---
import MainContainer from "@components/MainContainer.astro";
import "@fontsource/inter";
import "@fontsource/jetbrains-mono";
import { SEO } from "astro-seo";

const { pageTitle, description, type, publishedDate, updatedDate } = Astro.props;
---
<html lang="en" class="h-full antialiased">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <SEO
      title={pageTitle}
      description={description}
      openGraph={{
        basic: {
          title: description,
          type: type,
          image: "/images/og_image.png",
        },
        image: {
          alt: "An image of myself",
        },
      }}
      twitter={{ creator: "@hectores9" }}
    />
    <script
      defer
      data-domain="super-solstice.vercel.app"
      src="https://plausible.andreisurugiu.com/js/script.js"
    ></script>
  </head>
  <body
    class="h-full sm:px-8 text-primary-100 selection:bg-accent-400 selection:text-black"
  >
    <MainContainer>
      <slot />
    </MainContainer>
    <style is:global>
      @tailwind base;
      @tailwind components;
      @tailwind utilities;

      pre {
        --code-block-background-color: #374151;
        --code-block-border-radius: 0.375rem;
        --code-block-font-size: 1rem;

        align-items: flex-start;
        border-radius: var(--code-block-border-radius);
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
        width: 100%;

        & .pre-header {
          align-items: flex-start;
          display: flex;
          flex-direction: column;
          justify-content: center;
          left: 0px;
          overflow-x: scroll;
          position: sticky;
          top: 0px;
          width: 100%;

          & .pre-title {
            background-color: var(--code-block-background-color);
            border-radius: var(--code-block-border-radius);
            font-size: var(--code-block-font-size);
            line-height: 1rem;
            min-width: 100%;
            padding: calc(16px * 0.5) calc(16px * 1);
            text-align: center;
            width: max-content;
          }

          & .wrapper-copy-code {
            align-items: center;
            flex-direction: row;
            display: flex;
            justify-content: flex-end;
            width: 100%;

            & .copy-code {
              background-color: transparent;
              border: none;
              border-radius: var(--code-block-border-radius);
              color: #ffffff;
              font-family: monospace;
              font-size: var(--code-block-font-size);
              line-height: 1rem;
              margin: calc(16px * 0.25);
              padding: calc(16px * 0.5) calc(16px * 1);

              &:hover {
                background-color: #6b7280;
                cursor: pointer;
              }
            }
          }
        }

        & code {
          display: block;
          font-size: var(--code-block-font-size);
          line-height: 1.25rem;
          min-width: 100%;
          overflow-x: scroll;
          padding: calc(16px * 0.5) calc(16px * 1.25);
          text-indent: 0px;
          width: max-content;

          & .line {
            display: inline-block;
            min-width: 100%;
            width: auto;
          }

          & .diff.add {
            background-color: #166534;
            position: relative;

            &:before {
              color: #22c55e;
              content: "+";
              left: -1rem;
              position: absolute;
            }
          }

          & .diff.remove {
            background-color: #991b1b;
            opacity: 0.8;
            position: relative;

            &:before {
              color: #ef4444;
              content: "-";
              left: -1rem;
              position: absolute;
            }
          }
        }
      }

      @layer base {
        :root {
          /* Keynest-inspired beige, green & white color palette */
          --primary-50: 51 51 51;       /* Dark gray for main text */
          --primary-100: 68 68 68;      /* Medium dark gray */
          --primary-200: 85 85 85;      /* Medium gray */
          --primary-300: 119 119 119;   /* Light gray */
          --primary-400: 136 136 136;   /* Lighter gray */
          --primary-500: 153 153 153;   /* Medium light gray */
          --primary-600: 170 170 170;   /* Light gray */
          --primary-700: 187 187 187;   /* Very light gray */
          --primary-800: 245 242 237;   /* Light beige */
          --primary-900: 251 248 243;   /* Very light beige */

          /* Green accent colors inspired by Keynest */
          --accent-verylight: 165 214 167;  /* Light green */
          --accent-light: 129 199 132;      /* Medium light green */
          --accent-regular: 76 175 80;      /* Primary green */
          --accent-dark: 56 142 60;         /* Dark green */
          --accent-darkest: 27 94 32;       /* Very dark green */

          /* Beige and white backgrounds */
          --main-bg: #faf8f5;           /* Warm beige background */
          --content-bg: #ffffff;        /* Pure white for content */
          --lighter-content-bg: #fefefe; /* Slightly off-white */

          --gradient-1: rgba(250, 248, 245, 0);
          --gradient-2: #faf8f5;
          --gradient-3-start: rgba(76, 175, 80, 0.05);
          --gradient-3-end: rgba(76, 175, 80, 0.02);
        }
      }

      html {
        background: var(--main-bg);
      }
      body {
        background: radial-gradient(
            84% 84% at -20% -20%,
            var(--main-bg) 0%,
            var(--gradient-1) 100%
          ),
          radial-gradient(
            40% 82% at 50% 50%,
            var(--gradient-2) 0%,
            var(--gradient-2) 100%
          ),
          radial-gradient(
            82% 60% at 34% 10%,
            var(--main-bg) 0%,
            var(--gradient-3-start) 46%,
            var(--gradient-3-end) 72%,
            var(--main-bg) 90%
          );
        background-repeat: no-repeat;
      }
    </style>
  </body>
</html>
